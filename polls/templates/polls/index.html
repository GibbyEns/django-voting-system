<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accessible Voting System</title>
    <link rel="stylesheet" href="styles.css">
    <script src="{% static 'js/script.js' %}" defer></script>
</head>
<body>
    <a href="{% url 'results' %}">See Results</a>

    <!-- Accessibility Toolbar -->
    <div class="accessibility-toolbar">
        <button onclick="toggleContrast()">Contrast</button>
        <button onclick="increaseFont()">A+</button>
        <button onclick="decreaseFont()">A-</button>
        <button onclick="toggleAudio()">ğŸ”Š Audio</button>
    </div>
    
    <!-- Header -->
    <header>
        <h1>Accessible Voting & Survey System</h1>
    </header>
    
    <!-- Main Content Container -->
    <div class="container">
        
        <!-- ============ WELCOME PAGE ============ -->
        <div id="welcome-page" class="page active">
            <img src="https://thumbs.dreamstime.com/x/disability-employment-disabled-people-work-landing-page-template-set-handicapped-businessman-characters-wheelchair-214613649.jpg" 
                 alt="Welcome Image - People with disabilities in workplace" 
                 class="welcome-image">
            <h2>Welcome!</h2>
            <p>This system helps check if voting meets accessibility requirements for people with disabilities.</p>
            <button class="btn" onclick="showPage('login-page')">Login</button>
        </div>
        
        <!-- ============ LOGIN PAGE ============ -->
        <div id="login-page" class="page">
            <h2>Login</h2>
            <div id="login-error" class="alert alert-danger hidden"></div>
            <form id="login-form" onsubmit="handleLogin(event)">
                <input type="text" id="username" name="username" placeholder="Username (4 letters)" required>
                <br><br>
                <input type="password" id="password" name="password" placeholder="Password (2 letters + 2 numbers)" required>
                <br>
                <small class="password-hint">Password must be 2 letters followed by 2 numbers (e.g., ab12)</small>
                <br><br>
                <button type="submit" class="btn">Login</button>
            </form>
            <br>
            <button class="btn" onclick="showPage('welcome-page')">â¬… Back</button>
        </div>
        
        <!-- ============ MAIN MENU ============ -->
        <div id="menu-page" class="page">
            <h2>Main Menu</h2>
            <p id="welcome-user"></p>
            <button class="btn" onclick="showPage('vote-page')">ğŸ—³ï¸ Vote Now</button>
            <button class="btn" onclick="showPage('survey-page')">ğŸ“ Take Survey</button>
            <button class="btn" onclick="showPage('results-page'); displayResults()">ğŸ“Š View Results</button>
        </div>
        
        <!-- ============ VOTING PAGE ============ -->
        <div id="vote-page" class="page">
            <h2>Vote for Accessibility Priorities</h2>
            <div class="card-container" id="candidates-container">
                <!-- Candidates will be loaded by JavaScript -->
            </div>
            <br>
            <button class="btn" onclick="showPage('menu-page')">â¬… Back to Menu</button>
        </div>
        
        <!-- ============ VOTE SUCCESS ============ -->
        <div id="vote-success-page" class="page">
            <div class="alert alert-success">
                âœ… Vote submitted for <span id="voted-candidate"></span>!
            </div>
            <button class="btn" onclick="showPage('vote-page')">â¬… Back to Voting</button>
            <button class="btn" onclick="showPage('menu-page')">ğŸ  Main Menu</button>
        </div>
        
        <!-- ============ SURVEY PAGE ============ -->
        <div id="survey-page" class="page">
            <h2>Accessibility Survey</h2>
            <form id="survey-form" onsubmit="handleSurvey(event)">
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill"></div>
                </div>
                <div id="survey-questions">
                    <!-- Questions will be loaded by JavaScript -->
                </div>
                <button type="submit" class="btn">ğŸ“¤ Submit Survey</button>
            </form>
            <br>
            <button class="btn" onclick="showPage('menu-page')">â¬… Back to Menu</button>
        </div>
        
        <!-- ============ SURVEY SUCCESS ============ -->
        <div id="survey-success-page" class="page">
            <div class="alert alert-success">
                âœ… Survey submitted! Thank you for your feedback.
            </div>
            <button class="btn" onclick="showPage('menu-page')">ğŸ  Back to Menu</button>
            <button class="btn" onclick="showPage('results-page'); displayResults()">ğŸ“Š View Results</button>
        </div>
        
        <!-- ============ RESULTS PAGE ============ -->
        <div id="results-page" class="page">
            <h2>ğŸ“Š Voting Results</h2>
            <div class="pie-container" id="pie-chart"></div>
            <ul class="results-list" id="vote-results">
                <!-- Results will be loaded by JavaScript -->
            </ul>
            
            <h2>ğŸ“ Survey Responses</h2>
            <div class="bar-chart" id="survey-results">
                <!-- Survey results will be loaded by JavaScript -->
            </div>
            <br>
            <button class="btn" onclick="showPage('menu-page')">â¬… Back to Menu</button>
        </div>
        
    </div>
    
    <!-- Footer -->
    <footer>
        Created by Xolewe, Nongcebo, Wendy, Asemahle | GirlCode Project
    </footer>
</body>
</html>
